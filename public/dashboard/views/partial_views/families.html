
<div class="row">
  <h1 class="section-header">Families</h1>  

  <hr>
</div>

<div ng-controller="FamilyCtrl">
  <ul class="nav nav-tabs">
    <li class="text-left"><a href="#all" data-toggle="tab">All</a></li>
    <li class="text-left"><a href="#create" data-toggle="tab">Create New</a></li>
  </ul>

  <div id="myTabContent" class="tab-content">

    <div class="tab-pane active in" id="all">
      <div class="row">
        <div class="well">
          <table class="table" ng-table >
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Members</th>
                <th style="width: 75px;"></th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeate="family in families"> 
                  <td>{{ family.name }}</td>
                  <td>Mario, Antonio, Anna</td>
                  <td>
                    <button type="button" class="btn btn-primary btn-sm" data-ng-hide="user.isLicensed"
                    data-toggle="modal" data-target="#myModalLicensed">
                    <span class="glyphicon glyphicon-edit"></span> Edit
                  </button> 
                </td>
              </tr>
              <tr ng-repeate-end />
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="tab-pane fade" id="create">

    <form class="form-horizontal col-md-5 text-ce nter col-md-offset-4">
      <fieldset>

        <!-- Form Name -->
        <legend>Create new Family</legend>

        <!-- Text input-->
        <div class="control-group">
          <label class="control-label" for="nameFamily">Name</label>
          <div class="controls">
            <input id="nameFamily" name="nameFamily" type="text" placeholder="" class="form-control input-xlarge" ng-model="family.name">
          </div>
        </div>

        <!-- Button (Double) -->
        <div class="control-group">
          <label class="control-label" for="save_btn"></label>
          <div class="controls">
            <button id="save_btn" name="save_btn" class="btn btn-success" ng-click="createFamily(family)">Save</button>
            <button id="cancel_btn" name="cancel_btn" class="btn btn-danger">Cancel</button>
          </div>
        </div>

      </fieldset>
    </form>

  </div>
</div>

<div id="myModalLicensed" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content"></div>
  </div>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close " data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">Edit</h3>
      </div>
      <div class="modal-body">
        <p class="error-text">
          <div>

            <div id="myTabContent" class="tab-content">

              <!-- Aggiunta/Rimozione membri -->
              <div style="margin-left: 15px">
                <div class="row bot15">
                  <div id="custom-search-input">
                    <h4>Insert <i>Username</i>, <i>First Name</i> or <i>Last Name</i> to search:</h4>
                    <div class="input-group col-md-4">
                      <input type="search" class="search-query form-control" placeholder="Type here" />
                      <span class="input-group-btn">
                        <button class="btn btn-danger" type="button">
                          <span class="glyphicon glyphicon-search"></span>
                        </button>
                      </span>
                    </div>
                  </div>
                </div>
                
                <div class="row">
                  <div class="well">
                    <table class="table">
                      <thead>
                        <tr>
                          <th class="col-lg-3"></th>
                          <th>First Name</th>
                          <th>Last Name</th>
                          <th>Username</th>
                          <th style="width: 75px;"></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td><div class="col-md-3 col-lg-3 " align="center"> <img alt="User Pic" src="https://lh5.googleusercontent.com/-b0-k99FZlyE/AAAAAAAAAAI/AAAAAAAAAAA/eu7opA4byxI/photo.jpg?sz=100" class="img-circle"> </div></td>
                          <td>Chris</td>
                          <td>Albert</td>
                          <td>cab79</td>
                          <td>
                            <button type="button" class="btn btn-primary btn-sm" data-ng-hide="user.isLicensed"
                            data-toggle="modal" data-target="#myModalLicensed">
                            <span class="glyphicon glyphicon-plus"></span> Add
                          </button> 
                        </td>
                      </tr>
                      <tr>
                        <td>(Tutti i membri della famiglia e poi tuti gli altri membri del db; dopo una ricerca mostra solo i risultati)</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>(+ se non fa parte della famiglia, - se fa parte)</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>    
            <!-- Aggiunta/Rimozione membri fine-->

          </div>
        </div>
      </p>
    </div>
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
      <button class="btn btn-danger" data-dismiss="modal">OK</button>
    </div>
  </div>
</div>
</div>



<div id="myModalAdd" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content"></div>
  </div>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close " data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">Add</h3>
      </div>
      <div class="modal-body">
        <p class="error-text">
          <div>
            <div id="myTabContent" class="tab-content">

              <!-- Aggiunta membri -->
              <div style="margin-left: 15px">
                <div class="row bot15">
                  <div id="custom-search-input">
                    <h4>Insert <i>Username</i>, <i>First Name</i> or <i>Last Name</i> to search:</h4>
                    <div class="input-group col-md-4">
                      <input type="search" class="search-query form-control" placeholder="Type here" />
                      <span class="input-group-btn">
                        <button class="btn btn-danger" type="button">
                          <span class="glyphicon glyphicon-search"></span>
                        </button>
                      </span>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="well">
                    <table class="table">
                      <thead>
                        <tr>
                          <th class="col-lg-3"></th>
                          <th>First Name</th>
                          <th>Last Name</th>
                          <th>Username</th>
                          <th style="width: 75px;"></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td><div class="col-md-3 col-lg-3 " align="center"> <img alt="User Pic" src="https://lh5.googleusercontent.com/-b0-k99FZlyE/AAAAAAAAAAI/AAAAAAAAAAA/eu7opA4byxI/photo.jpg?sz=100" class="img-circle"> </div></td>
                          <td>Chris</td>
                          <td>Albert</td>
                          <td>cab79</td>
                          <td>
                            <button type="button" class="btn btn-primary btn-sm" data-ng-hide="user.isLicensed"
                            data-toggle="modal" data-target="#myModalLicensed">
                            <span class="glyphicon glyphicon-plus"></span> Add
                          </button> 
                        </td>
                      </tr>
                      <tr>
                        <td>(All'inizio mostra tutti gli utenti esistenti e dopo una ricerca mostra solo i risultati)</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>    
            <!-- Aggiunta membri fine-->

          </div>
        </div>
      </p>
    </div>
    <div class="modal-footer">
      <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
      <button class="btn btn-danger" data-dismiss="modal">OK</button>
    </div>
  </div>
</div>
</div>